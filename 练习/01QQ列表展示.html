<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>无标题文档</title>
    <style>
        ul, h2 {
            padding: 0;
            margin: 0;
        }

        li {
            list-style: none;
        }

        #list {
            width: 240px;
            border: 1px solid #333;
            margin: 0 auto;
        }

        #list h2 {
            height: 30px;
            line-height: 30px;
            text-indent: 20px;
            background: url(img/ico1.gif) no-repeat 5px center #6FF;
            color: #000;
        }

        #list .active {
            background: url(img/ico2.gif) no-repeat 5px center #FF9;
            color: #000;
        }

        #list ul {
            display: none;
        }

        #list ul li {
            line-height: 24px;
            border-bottom: 1px solid #333;
            text-indent: 24px;
        }

        #list ul .hover {
            background: #6FF;
        }
    </style>

</head>
<script type="text/javascript">

    window.onload = function () {
//          1.获取元素
        var oList = document.getElementById("list");
        var oH2 = oList.getElementsByTagName("h2");
        var oUl = oList.getElementsByTagName("ul");
//        2.给h2添加点击事件

        var obj = -100;
//        定义开关
        var onOff = true;
        for (var i = 0; i < oH2.length; i++) {
            oH2[i].index = i;

            oH2[i].onclick = function () {
                if (obj != this.index) {
                    onOff = true;
                }
                if (onOff) {
//                    暴力清除
                    for (var i = 0; i < oUl.length; i++) {
                        oUl[i].style.display = "none";
                        oH2[i].className = "";
                    }
//                当前改变
                    oUl[this.index].style.display = "block";
                    this.className = "active";
                } else {
                    oUl[this.index].style.display = "none";
                    this.className = "";
                }
                onOff = !onOff;
                obj = this.index;
            }
            fn(oUl[i]);
        }
        function fn(m) {
            var aLi = m.getElementsByTagName("li");
            for (var i = 0; i < aLi.length; i++) {
                aLi[i].onmouseover = function () {
                    this.style.backgroundColor = "pink";
                }
                aLi[i].onmouseout = function () {
                    this.style.backgroundColor = "";
                }
            }

        }
    }

</script>
<body>

<ul id="list">
    <li>
        <h2>我的好友</h2>
        <ul>
            <li>张三</li>
            <li>张三</li>
            <li>张三</li>
            <li>张三</li>
        </ul>
    </li>
    <li>
        <h2>企业好友</h2>
        <ul>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
            <li>李四</li>
        </ul>
    </li>
    <li>
        <h2>黑名单</h2>
        <ul>
            <li>张小三</li>
            <li>李小四</li>
        </ul>
    </li>
</ul>

</body>
</html>
